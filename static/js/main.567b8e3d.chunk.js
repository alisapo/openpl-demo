(this.webpackJsonpopenplatform=this.webpackJsonpopenplatform||[]).push([[0],{34:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(1),i=s.n(c),a=s(20),r=s.n(a),o=s(7),l=s(8),m=s(10),d=s(9),u=s(11),h=s(2),j=function(){return Object(n.jsx)("div",{className:"p-4 d-flex justify-content-center",children:Object(n.jsx)(u.b,{className:"text-decoration-none",to:"/",children:Object(n.jsx)("h1",{children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0432\u0438\u0442\u0440\u0438\u043d\u0430"})})})};function f(e){return"books"===e?"\u041a\u043d\u0438\u0433\u0438":"movies"===e?"\u0424\u0438\u043b\u044c\u043c\u044b":"music"===e?"\u041c\u0443\u0437\u044b\u043a\u0430":void 0}function b(){return fetch("https://run.mocky.io/v3/d1ebf75f-fc13-49c2-af56-80efc083dc02",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}var p=function(e){Object(m.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={types:""},n}return Object(l.a)(s,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;b().then((function(t){e.setState({types:t.types})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=Array.from(this.state.types);return Object(n.jsx)("div",{className:"d-flex justify-content-center",children:e.length?e.map((function(e){return Object(n.jsx)(u.b,{className:"text-decoration-none",to:"/".concat(e),children:Object(n.jsx)("div",{className:"p-4",children:f(e)})})})):Object(n.jsx)("div",{children:"Loading..."})})}}]),s}(i.a.Component),x=s(22),v=s(14),O=function(e){Object(m.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleData=function(e){var t;n.setState((t={},Object(v.a)(t,e.target.name,e.target.value),Object(v.a)(t,"disabled",!1),t))},n.searchSubmit=function(e){e.preventDefault(),(n.state.searchQuery||n.state.price_one||n.state.price_two)&&(n.props.handleFilters(n.state.searchQuery,n.state.price_one,n.state.price_two),n.setState({searchQuery:"",price_one:"",price_two:"",disabled:!0}))},n.state={searchQuery:"",price_one:"",price_two:"",disabled:!0},n}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("form",{onSubmit:this.searchSubmit,children:Object(n.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(n.jsx)("div",{className:"w-30 d-flex mt-2 mr-5",children:Object(n.jsx)("input",{value:this.state.searchQuery,className:"form-control",type:"text",name:"searchQuery",onChange:this.handleData,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}),Object(n.jsxs)("div",{className:"w-75 d-flex mt-2 align-items-center",children:[Object(n.jsx)("div",{className:"mr-2",children:"\u0446\u0435\u043d\u0430"}),Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{className:"mr-3",children:Object(n.jsx)("input",{value:this.state.price_one,className:"form-control",type:"number",name:"price_one",onChange:this.handleData,placeholder:"\u041e\u0442"})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{value:this.state.price_two,className:"form-control",type:"number",name:"price_two",onChange:this.handleData,placeholder:"\u0414\u043e"})})]})]}),Object(n.jsx)("input",{class:"btn btn-primary mb-2 mt-3",type:"submit",disabled:this.state.disabled,value:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})})})}}]),s}(i.a.Component),y=function(e){if(e.img_thumb){var t="https:"+e.img_thumb;return Object(n.jsx)("img",{class:"img-thumbnail",src:t,alt:"cover image"})}return Object(n.jsx)("img",{class:"img-thumbnail",src:e.img,alt:"cover image"})},g=function(e){return Object(n.jsx)("div",{class:"col mb-4 d-flex justify-content-center",children:Object(n.jsxs)("div",{className:"card w-75",children:[Object(n.jsx)("div",{className:"d-flex justify-content-center",children:y(e)}),Object(n.jsxs)("div",{class:"card-body",children:[Object(n.jsx)("div",{class:"card-title",children:Object(n.jsx)("h4",{children:e.title})}),Object(n.jsxs)("div",{children:[e.price," \u20bd"]})]})]})})},w=function(e){Object(m.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).fillData=function(){b().then((function(e){n.setState({types:e.types}),n.getSwitchers(n.props.match.params.type,e)}))},n.handleGenre=function(e){b().then((function(t){try{switch(n.props.match.params.type){case"books":n.setState({items:t.books.filter((function(t){return t.genre===e.target.textContent}))});break;case"movies":n.setState({items:t.movies.filter((function(t){return t.genre===e.target.textContent}))});break;case"music":n.setState({items:t.music.filter((function(t){return t.genre===e.target.textContent}))})}}catch(s){console.log(s)}}))},n.handleFilters=function(e,t,s){if(e||t||s){if(e&&!t&&!s){var c=n.state.items.filter((function(t){return t.title.toLowerCase().indexOf(e.toLowerCase())>=0}));n.setState({items:c})}if(e&&t&&!s){var i=n.state.items.filter((function(t){return t.title.toLowerCase().indexOf(e.toLowerCase())>=0})).filter((function(e){return e.price>=t}));n.setState({items:i})}if(e&&t&&s){var a=n.state.items.filter((function(t){return t.title.toLowerCase().indexOf(e.toLowerCase())>=0})).filter((function(e){return e.price>=t})).filter((function(e){return e.price<=s}));n.setState({items:a})}if(!e&&t&&s){var r=n.state.items.filter((function(e){return e.price>=t})).filter((function(e){return e.price<=s}));n.setState({items:r})}if(!e&&t&&!s){var o=n.state.items.filter((function(e){return e.price>=t}));n.setState({items:o})}if(!e&&!t&&s){var l=n.state.items.filter((function(e){return e.price<=s}));n.setState({items:l})}}},n.handleType=function(e){b().then((function(t){n.getSwitchers(e.target.textContent,t)}))},n.getSwitchers=function(e,t){try{switch(e){case"books":n.setState({items:t.books,genres:t.genres_books});break;case"movies":n.setState({items:t.movies,genres:t.genres_movies});break;case"music":n.setState({items:t.music,genres:t.genres_music})}}catch(s){console.log(s)}},n.state={status:!1,items:"",genres:"",types:""},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.fillData(),this.setState({status:!0})}},{key:"render",value:function(){var e=this,t=Array.from(this.state.items),s=Array.from(this.state.genres),c=Array.from(this.state.types);return Object(n.jsxs)("div",{className:"d-flex flex-column",children:[Object(n.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(n.jsx)("div",{className:"d-flex flex-row",children:c.map((function(t){return Object(n.jsx)(u.b,{className:"text-decoration-none p-4",to:"/".concat(t),onClick:e.handleType,children:f(t)})}))}),Object(n.jsx)("div",{className:"d-flex flex-row",children:s.map((function(t){return Object(n.jsx)("div",{class:"btn btn-primary m-2",onClick:e.handleGenre,children:t})}))}),Object(n.jsx)("div",{name:"reset",class:"btn btn-primary",onClick:this.fillData,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]}),Object(n.jsx)(O,{handleFilters:this.handleFilters,fillData:this.fillData}),Object(n.jsx)("div",{class:"row row-cols-1 row-cols-md-2",children:this.state.status?t.map((function(t){return Object(n.jsx)(u.b,{className:"text-decoration-none",to:"/".concat(e.props.match.params.type,"/product=").concat(t.id),children:Object(n.jsx)(g,Object(x.a)({},t),t.id)})})):Object(n.jsx)("div",{children:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})})]})}}]),s}(i.a.Component),N=function(e){Object(m.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={item:""},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){try{switch(e.props.match.params.type){case"books":var s=t.books.filter((function(t){return t.id==e.props.match.params.id}));e.setState({item:s[0]});break;case"movies":var n=t.movies.filter((function(t){return t.id==e.props.match.params.id}));e.setState({item:n[0]});break;case"music":var c=t.music.filter((function(t){return t.id==e.props.match.params.id}));e.setState({item:c[0]})}}catch(i){console.log(i)}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"d-flex flex-column",children:[Object(n.jsx)("div",{className:"p-4",children:Object(n.jsx)("h4",{children:this.state.item.title})}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:this.state.item.img,alt:"cover image"})}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("div",{children:this.state.item.genre}),Object(n.jsxs)("div",{className:"font-weight-bold",children:[this.state.item.price," \u20bd"]})]}),Object(n.jsx)("div",{children:this.state.item.description})]})}}]),s}(i.a.Component),k=(s(33),function(e){Object(m.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsx)(u.a,{basename:"/openpl-demo",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(j,{}),Object(n.jsx)(h.a,{path:"/",exact:!0,component:p}),Object(n.jsxs)(h.c,{children:[Object(n.jsx)(h.a,{path:"/:type([a-z]+)",exact:!0,component:w}),Object(n.jsx)(h.a,{path:"/:type([a-z]+)/product=:id([0-9]+)",exact:!0,component:N})]})]})})}}]),s}(i.a.Component));r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(k,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.567b8e3d.chunk.js.map